
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planner Ritual√≠stico ‚Äî Grim√≥rio Completo</title>
  <link rel="manifest" href="manifest.json">
  
  <!-- Fontes otimizadas para leitura -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Inter:wght@300;400;500;600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
  
  <style>
    /* VARI√ÅVEIS DE CORES - PALETA ACESS√çVEL 2026 */
    :root {
      /* Cores neutras org√¢nicas - PAPEL COMO PADR√ÉO DEFINITIVO */
      --color-cloud-dancer: #e8dfca; /* Papel reciclado como cor definitiva */
      --color-bone-white: #f9f6ef;   /* Tom de pergaminho suave */
      --color-parchment: #f5f1e8;    /* Pergaminho claro */
      
      /* Cores de texto */
      --color-obsidian: #1a1a1a;     /* Quase preto, melhor que #000 */
      --color-deep-teal: #0d2b2e;    /* Verde muito escuro */
      --color-text-primary: #121212; /* Cinza escuro para melhor legibilidade */
      --color-text-secondary: #424242;
      
      /* Cores de destaque - Tend√™ncias 2026 */
      --color-digital-lavender: #b5a8ff; /* Cor do ano 2026 */
      --color-transformative-teal: #2a7a7a; /* Verde-azulado transformativo */
      --color-mystic-purple: #7e57c2;     /* Roxo m√≠stico */

      --color-sunset-amber: #ff8a50;      /* √Çmbar do p√¥r do sol */
      
      /* Tipografia */
      --font-heading: 'Cormorant Garamond', Georgia, serif;
      --font-body: 'Inter', 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-mystic: 'Cormorant Garamond', serif;
      
      /* Espa√ßamento */
      --line-height-body: 1.6;
      --line-height-heading: 1.3;
      --letter-spacing-wide: 0.02em;
      --letter-spacing-tight: -0.01em;
      
      /* Bordas */
      --border-radius-sm: 8px;
      --border-radius-md: 12px;
      --border-radius-lg: 20px;
      
      /* Sombras suaves */
      --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.05);
      --shadow-medium: 0 8px 24px rgba(0, 0, 0, 0.08);
      --shadow-deep: 0 12px 36px rgba(0, 0, 0, 0.12);
    }
    
    /* ESTILOS GERAIS DO CORPO - FUNDO EM PAPEL DEFINITIVO */
    body {
      font-family: var(--font-body);
      background: var(--color-cloud-dancer); /* Cor de papel reciclado como padr√£o */
      margin: 0;
      padding: 0;
      color: var(--color-text-primary);
      min-height: 100vh;
      line-height: var(--line-height-body);
      letter-spacing: var(--letter-spacing-wide);

    }

    body::before {
      content: '‚òæ ‚ú∂ ‚öù ‚òø ‚ôÄ ‚ôÇ ‚öó üúÉ üúÅ üúÇ üúÑ';
      position: fixed;
      inset: 0;
      opacity: 0.03;
      font-size: 140px;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      font-family: var(--font-mystic);
      color: var(--color-text-secondary);
    }

    /* TELA DE INSTALA√á√ÉO */
    #installOverlay {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, var(--color-transformative-teal), var(--color-deep-teal));
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 20px;
    }

    #installContainer {
      background: var(--color-bone-white);
      padding: 32px;
      border-radius: var(--border-radius-lg);
      width: 90%;
      max-width: 420px;
      border: 1px solid rgba(0,0,0,0.1);

      text-align: center;
      box-sizing: border-box;
      box-shadow: var(--shadow-deep);
    }

    /* TELA DE FORMUL√ÅRIO */
    #formOverlay {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, #e7dff0, #cbb7d8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }

    #formContainer {
      background: var(--color-bone-white);
      padding: 28px;
      border-radius: var(--border-radius-lg);
      width: 90%;
      max-width: 400px;
      border: 1px solid rgba(0,0,0,0.1);
      margin: 20px auto;
      box-sizing: border-box;
      box-shadow: var(--shadow-deep);
    }

    /* TIPOGRAFIA - T√çTULOS */
    h1, h2, h3, h4 {
      font-family: var(--font-heading);
      color: var(--color-deep-teal);
      font-weight: 600;
      line-height: var(--line-height-heading);
      letter-spacing: var(--letter-spacing-tight);

      margin-top: 0;
    }

    h1 {
      font-size: 2.5rem;
      text-align: center;
      margin: 20px 0;
      color: var(--color-transformative-teal);
    }

    h2 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    h3 {
      font-size: 1.5rem;
      margin-bottom: 0.75rem;
    }

    h4 {
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
    }

    /* TIPOGRAFIA - CORPO */
    .texto, p, label, input, select, textarea, button {
      font-family: var(--font-body);
      font-size: 1rem; /* 16px base */
      line-height: var(--line-height-body);
      color: var(--color-text-primary);
    }

    label {
      display: block;
      margin-top: 16px;

      margin-bottom: 8px;
      font-weight: 500;
      color: var(--color-text-secondary);
    }

    /* BOT√ïES - ACESS√çVEIS */
    button {
      margin-top: 12px;
      background: var(--color-transformative-teal);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: var(--border-radius-md);
      cursor: pointer;
      font-family: var(--font-body);
      font-weight: 500;
      font-size: 1rem;
      letter-spacing: var(--letter-spacing-wide);
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    button:hover, button:focus {
      background: var(--color-digital-lavender);
      transform: translateY(-2px);
      box-shadow: var(--shadow-soft);
      outline: 2px solid var(--color-digital-lavender);
      outline-offset: 2px;
    }

    button:active {
      transform: translateY(0);
    }


    button.secondary {
      background: transparent;
      border: 2px solid var(--color-transformative-teal);
      color: var(--color-transformative-teal);
    }

    button.secondary:hover {
      background: var(--color-transformative-teal);
      color: white;
    }

    /* INPUTS E FORMUL√ÅRIOS */
    input, select, textarea {
      width: 100%;
      margin-bottom: 12px;
      box-sizing: border-box;
      padding: 12px 16px;
      border: 1px solid rgba(0,0,0,0.1);
      border-radius: var(--border-radius-sm);
      background: white;
      font-family: var(--font-body);
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    input:focus, select:focus, textarea:focus {
      outline: 2px solid var(--color-digital-lavender);
      border-color: transparent;
      box-shadow: 0 0 0 3px rgba(181, 168, 255, 0.1);
    }

    /* RESTANTE DO CSS ORIGINAL (ADAPTADO) */
    #capa, #planner, #prospera {
      display: none;
      padding: 24px;

      box-sizing: border-box;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      background: var(--color-bone-white);
      border-radius: var(--border-radius-lg);
      margin-top: 20px;
      box-shadow: var(--shadow-soft);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }

    .dia {
      background: white;
      min-height: 120px;
      border-radius: var(--border-radius-md);
      padding: 12px;
      cursor: pointer;
      position: relative;
      color: var(--color-mystic-purple);
      font-size: 1rem;
      border: 1px solid rgba(0,0,0,0.05);
      transition: all 0.3s ease;
    }

    .dia:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-soft);
      border-color: var(--color-digital-lavender);
    }

    .dias-semana div {

      text-align: center;
      font-weight: 600;
      padding: 12px 0;
      color: var(--color-transformative-teal);
      font-family: var(--font-heading);
      font-size: 1.1rem;
    }

    .preview {
      font-size: 0.875rem;
      margin-top: 8px;
      font-style: italic;
      word-break: break-word;
      color: var(--color-text-secondary);
      line-height: 1.4;
    }

    .estrela {
      position: absolute;
      bottom: 12px;
      right: 12px;
      font-size: 1rem;
      color: var(--color-sunset-amber);
    }

    .iconesTopo {
      position: absolute;
      top: 12px;
      right: 12px;
      display: flex;
      gap: 4px;
      font-size: 0.875rem;
    }

    .top-nav {
      display: flex;

      gap: 12px;
      justify-content: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .legenda {
      font-size: 0.875rem;
      margin: 16px 0;
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
      color: var(--color-text-secondary);
    }

    /* MAIN RESPONSIVO */
    main {
      display: grid;
      grid-template-columns: 1fr;
      gap: 32px;
      max-width: 1200px;
      margin: 24px auto;
      padding: 0 20px;
      box-sizing: border-box;
    }

    section {
      background: var(--color-bone-white);
      padding: 24px;
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(0,0,0,0.05);
      width: 100%;
      box-sizing: border-box;
    }


    .texto {
      color: var(--color-text-secondary);
      font-size: 1.0625rem; /* 17px para melhor leitura */
      line-height: var(--line-height-body);
      text-align: justify;
      margin-bottom: 1.5rem;
    }

    .livro label {
      display: block;
      margin-top: 20px;
      font-size: 0.9375rem;
    }

    .livro input {
      width: 100%;
      box-sizing: border-box;
      padding: 12px 16px;
      border-radius: var(--border-radius-sm);
      border: 1px solid rgba(0,0,0,0.1);
      background: white;
      font-family: var(--font-body);
    }

    .caixa {
      box-sizing: border-box;
      background: white;
      color: var(--color-text-primary);
      padding: 20px;
      border-radius: var(--border-radius-md);
      margin-top: 24px;
      overflow-x: auto;
      border: 1px solid rgba(0,0,0,0.05);
    }

    .lateral {
      position: static;
      top: auto;
    }

    .lunar {
      background: var(--color-bone-white);
      border: 2px dashed var(--color-transformative-teal);
      padding: 24px;
      border-radius: var(--border-radius-md);
      font-size: 0.9375rem;
    }

    .lunar strong {
      color: var(--color-transformative-teal);
    }

    .tabela {
      width: 100%;
      border-collapse: collapse;
      margin-top: 16px;
      min-width: 300px;
    }

    .tabela th, .tabela td {
      border-bottom: 1px solid rgba(0,0,0,0.1);
      padding: 12px;
      font-size: 0.9375rem;
    }

    .tabela th {
      color: var(--color-transformative-teal);
      font-weight: 600;
      text-align: left;
    }

    .tabela input {
      width: 100%;
      box-sizing: border-box;
      border: none;
      background: transparent;
      font-family: var(--font-body);
      font-size: 0.9375rem;
    }

    .total-secao {
      margin-top: 16px;
      font-size: 0.9375rem;
      color: var(--color-transformative-teal);
      font-weight: 600;
    }

    .saldo {
      margin-top: 24px;
      padding: 20px;
      background: linear-gradient(135deg, var(--color-digital-lavender), var(--color-mystic-purple));
      border-radius: var(--border-radius-md);
      color: white;
      font-weight: 600;
    }

    .grafico {
      margin-top: 24px;
      background: var(--color-bone-white);
      border: 1px solid var(--color-transformative-teal);
      border-radius: var(--border-radius-md);
      padding: 20px;
      color: var(--color-transformative-teal);
      font-size: 0.9375rem;
    }

    /* MODAL RESPONSIVO */
    #modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      align-items: center;
      justify-content: center;
      padding: 20px;
      z-index: 2000;
    }

    #modal > div {
      background: var(--color-bone-white);
      padding: 24px;
      border-radius: var(--border-radius-lg);
      width: 100%;
      max-width: 500px;
      box-sizing: border-box;
      margin: 0 auto;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: var(--shadow-deep);
    }

    .sentimentos-section {
      margin: 20px 0;
      padding: 20px;
      background: white;
      border-radius: var(--border-radius-md);
      border: 1px solid rgba(0,0,0,0.05);
    }

    .sentimentos-section label {
      display: block;
      margin-bottom: 12px;

      color: var(--color-transformative-teal);
      font-weight: 600;
      font-size: 1rem;
    }

    #sentimentos {
      width: 100%;
      min-height: 100px;
      padding: 16px;
      border-radius: var(--border-radius-sm);
      border: 1px solid rgba(0,0,0,0.1);
      background: white;
      font-family: var(--font-body);
      font-size: 1rem;
      resize: vertical;
      box-sizing: border-box;
      line-height: var(--line-height-body);
    }

    .nota-item {
      margin: 12px 0;
      padding: 16px;
      background: white;
      border-radius: var(--border-radius-md);
      border-left: 4px solid var(--color-transformative-teal);
      position: relative;
      border: 1px solid rgba(0,0,0,0.05);
    }

    .nota-hora {
      font-size: 0.8125rem;
      color: var(--color-transformative-teal);
      font-weight: 600;
      margin-right: 40px;
    }

    .nota-texto {
      font-size: 0.9375rem;
      color: var(--color-text-primary);
      margin-top: 8px;
      margin-right: 40px;
      line-height: var(--line-height-body);
    }

    .btn-apagar-nota {
      position: absolute;
      top: 12px;
      right: 12px;
      background: transparent;
      border: none;
      color: var(--color-text-secondary);
      cursor: pointer;
      font-size: 0.875rem;
      padding: 6px 8px;
      border-radius: var(--border-radius-sm);
      transition: all 0.3s ease;
    }

    .btn-apagar-nota:hover {
      background: rgba(255, 138, 80, 0.1);
      transform: scale(1.1);
      color: var(--color-sunset-amber);
    }

    .sentimento-item {
      margin: 12px 0;
      padding: 16px;
      background: white;
      border-radius: var(--border-radius-md);
      border-left: 4px solid var(--color-mystic-purple);
      position: relative;
      border: 1px solid rgba(0,0,0,0.05);

    }

    .btn-apagar-sentimento {
      position: absolute;
      top: 12px;
      right: 12px;
      background: transparent;
      border: none;
      color: var(--color-text-secondary);
      cursor: pointer;
      font-size: 0.875rem;
      padding: 6px 8px;
      border-radius: var(--border-radius-sm);
      transition: all 0.3s ease;
    }

    .btn-apagar-sentimento:hover {
      background: rgba(126, 87, 194, 0.1);
      transform: scale(1.1);
      color: var(--color-mystic-purple);
    }

    .oraculo-section {
      margin-bottom: 24px;
      padding: 20px;
      background: white;
      border-radius: var(--border-radius-md);
      border: 1px solid rgba(0,0,0,0.05);
    }

    .oraculo-title {
      color: var(--color-transformative-teal);
      font-weight: 600;
      margin-bottom: 12px;
      font-size: 1.25rem;
      font-family: var(--font-heading);

    }

    .oraculo-text {
      color: var(--color-text-primary);
      font-size: 1rem;
      line-height: var(--line-height-body);
    }

    /* Bot√£o instalar */
    #btnInstalarAgora {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      display: none;
      background: var(--color-digital-lavender);
    }

    /* SE√á√ÉO DE NOTIFICA√á√ïES NO MODAL */
    .notificacoes-section {
      margin: 20px 0;
      padding: 20px;
      background: white;
      border-radius: var(--border-radius-md);
      border: 1px solid rgba(0,0,0,0.05);
    }

    .notificacoes-section label {
      display: block;
      margin-bottom: 8px;
      color: var(--color-transformative-teal);
      font-weight: 500;
    }

    .notificacoes-section input[type="time"],
    .notificacoes-section input[type="number"] {

      width: 100%;
      margin-bottom: 12px;
    }

    .notificacoes-section select {
      width: 100%;
      margin-bottom: 12px;
    }

    /* MODAL DE CONFIGURA√á√ÉO DE NOTIFICA√á√ïES */
    #modalNotificacoes {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 20px;
    }

    #modalNotificacoes > div {
      background: var(--color-bone-white);
      padding: 24px;
      border-radius: var(--border-radius-lg);
      width: 100%;
      max-width: 500px;
      box-sizing: border-box;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: var(--shadow-deep);
    }

    /* MEDIA QUERIES - RESPONSIVIDADE */
    @media (min-width: 768px) {
      main {

        grid-template-columns: 1.5fr 1fr;
        margin: 32px auto;
      }
      
      .lateral {
        position: sticky;
        top: 32px;
      }
      
      .grid {
        gap: 10px;
      }
      
      .dia {
        min-height: 140px;
        padding: 16px;
        font-size: 1.1rem;
      }
      
      h1 {
        font-size: 3rem;
      }
      
      h2 {
        font-size: 2.25rem;
      }
      
      h3 {
        font-size: 1.75rem;
      }
      
      /* Aumenta o tamanho da fonte para tablets */
      body {
        font-size: 1.0625rem;
      }
    }


    @media (max-width: 480px) {
      body::before {
        font-size: 80px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      h2, h3 {
        font-size: 1.5rem;
      }
      
      .grid {
        gap: 4px;
      }
      
      .dia {
        min-height: 100px;
        padding: 8px;
        font-size: 0.9375rem;
      }
      
      #modal > div {
        padding: 20px;
      }
      
      .oraculo-section {
        padding: 16px;
      }
      
      .nota-item, .sentimento-item {
        padding: 12px;
      }
      

      .btn-apagar-nota, .btn-apagar-sentimento {
        top: 8px;
        right: 8px;
        font-size: 0.8125rem;
      }
      
      /* Aumenta o tamanho da fonte para mobile */
      body {
        font-size: 1rem; /* 16px m√≠nimo para acessibilidade */
      }
      
      input, select, textarea, button {
        font-size: 1rem; /* Garante tamanho m√≠nimo */
      }
    }

    /* AJUSTES DE CONTRASTE WCAG */
    .oraculo-text {
      color: var(--color-text-primary);
      background: white;
    }
    
    .nota-texto {
      color: var(--color-text-primary);
    }
    
    /* Foco vis√≠vel para acessibilidade */
    *:focus {
      outline: 2px solid var(--color-digital-lavender);
      outline-offset: 2px;
    }
    
    /* Melhorando o contraste dos bot√µes */
    button {
      color: white;
      background-color: var(--color-transformative-teal);

    }
    
    button:hover {
      background-color: var(--color-digital-lavender);
    }
    
    /* Contraste nos links */
    a {
      color: var(--color-transformative-teal);
      text-decoration: underline;
    }
    
    a:hover {
      color: var(--color-digital-lavender);
    }
    
    /* Espa√ßamento entre par√°grafos */
    p {
      margin-bottom: 1.5rem;
    }
    
    /* Hierarquia clara de cabe√ßalhos */
    h1 { margin-bottom: 2rem; }
    h2 { margin-bottom: 1.5rem; }
    h3 { margin-bottom: 1rem; }
    h4 { margin-bottom: 0.75rem; }
  </style>
</head>
<body>

<!-- TELA DE INSTALA√á√ÉO -->
<div id="installOverlay">
  <div id="installContainer">
    <h2>‚ú® Instalar Grim√≥rio Ritual√≠stico ‚ú®</h2>
    <p>Instale o aplicativo para uma experi√™ncia completa, com notifica√ß√µes lunares e acesso offline.</p>

    <button id="btnInstalarPWA">üì≤ Instalar Agora</button>
    <button id="btnPularInstalacao" class="secondary">üåê Usar na Web</button>
    <p style="font-size:0.875rem;margin-top:20px;opacity:0.8;">
      Voc√™ pode instalar depois a qualquer momento atrav√©s do menu do navegador.
    </p>
  </div>
</div>

<!-- TELA DE FORMUL√ÅRIO -->
<div id="formOverlay">
  <div id="formContainer">
    <h3>Identifica√ß√£o da Bruxa</h3>
    <label>Seu nome m√°gico</label>
    <input id="nome" placeholder="Digite seu nome ou apelido" autocomplete="off">
    <label>Signo</label>
    <select id="signo">
      <option value="">Selecione seu signo</option>
      <option>√Åries</option><option>Touro</option><option>G√™meos</option>
      <option>C√¢ncer</option><option>Le√£o</option><option>Virgem</option>
      <option>Libra</option><option>Escorpi√£o</option><option>Sagit√°rio</option>
      <option>Capric√≥rnio</option><option>Aqu√°rio</option><option>Peixes</option>
    </select>
    <label>Ano pessoal (opcional)</label>
    <select id="anoPessoal">
      <option value="">Selecione seu ano pessoal</option>
      <option>1</option><option>2</option><option>3</option><option>4</option>
      <option>5</option><option>6</option><option>7</option><option>8</option><option>9</option>

    </select>
    <label>Data de nascimento (para numerologia)</label>
    <input id="dataNascimento" type="date">
    <label>Pr√≥ximo ciclo menstrual (opcional)</label>
    <input id="ciclo" type="date">
    <button id="salvar">‚ú® Entrar no Grim√≥rio</button>
    <p style="font-size:0.875rem;margin-top:15px;opacity:0.8;">
      Seus dados s√£o armazenados apenas no seu dispositivo.
    </p>
  </div>
</div>

<!-- Bot√£o para instalar depois -->
<button id="btnInstalarAgora" style="display:none">
  üì≤ Instalar
</button>

<!-- CAPA -->
<div id="capa">
  <h2>Bem-vinda ao Grim√≥rio</h2>
  <p id="nomeCapa"></p>
  <button id="irPlanner">üìÖ Planner Mensal</button>
  <button id="irProspera">üí∞ Livro da Bruxa Pr√≥spera</button>
  <div style="margin-top:30px;">
    <button id="btnAlterarNome" class="secondary">‚úèÔ∏è Alterar meus dados</button>
    <button id="btnConfigNotificacoes" class="secondary">üîî Configurar Notifica√ß√µes</button>
  </div>
</div>
